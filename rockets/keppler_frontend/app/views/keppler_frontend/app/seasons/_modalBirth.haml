.modal.modal_status.fade{ id: "modalBirth", "aria-hidden" => "true", "aria-labelledby" => "exampleModalLabel", role: "dialog" }
  .modal-dialog{role: "document", style: "max-width: 800px;"}
    .modal-content
      .modal-header
        %button.close{"aria-label" => "Close", "data-dismiss" => "modal", type: "button"}
          %span{"aria-hidden" => "true"} ×
      .modal-body{ style: "padding: 20px;"}
        .container_custom
          .row
            .col-lg-12
              %h1.title-modal Registrar Parto
              -# %form.multiple_ids{ action: "finca/#{@farm.id}/temporadas/#{@season.id}/marcar-celos/" }
            .col-lg-12
              .stepwizard.mb-4
                .stepwizard-row.setup-panel
                  .stepwizard-step
                    %a.btn.btn-active.btn-circle{:href => "#step-1", :type => "button"} 1
                    %p Step 1
                  .stepwizard-step
                    %a.btn.btn-inactive.btn-circle{:disabled => "disabled", :href => "#step-2", :type => "button", style:"border-radius: 50% !important;"} 2
                    %p Step 2
                  .stepwizard-step
                    %a.btn.btn-inactive.btn-circle{:disabled => "disabled", :href => "#step-3", :type => "button", style:"border-radius: 50% !important;"} 3
                    %p Step 3
                  .stepwizard-step
                    %a.btn.btn-inactive.btn-circle{:disabled => "disabled", :href => "#step-4", :type => "button", style:"border-radius: 50% !important;"} 4
                    %p Step 4
              = simple_form_for [@farm, @season, KepplerCattle::Status.new], url: statuses_farm_season_path(@farm, @season) do |f|
                #form-total
                  #step-1.row.setup-content
                    .col-md-12
                      -# %h3 Step 1
                      .row
                        .col-sm-12.col-md-6
                          %label.label_custom--strong Parto Exitoso
                          %select#season_cow_strategic_lot.form-control.select.required.form-control.input_custom{"aria-hidden" => "true", name: "season_cow[strategic_lot]"  }
                            %option Si
                            %option No
                        .col-sm-12.col-md-6
                          %label.label_custom--strong Parto de Morochos
                          %select#season_cow_strategic_lot.form-control.select.required.form-control.input_custom{"aria-hidden" => "true", name: "season_cow[strategic_lot]"  }
                            %option Si
                            %option No
                        .col-sm-12.mt-4
                          -# = f.input :start_date, as: :string, label: 'Fecha del celo', label_html: { class: 'label_custom--strong' }, input_html: { class: 'form-control input_custom', autocomplete: 'off' }
                          .form-group
                            %label.label_custom--strong Fecha del parto
                            %input.form-control.input_custom.datepicker{ name: "status[date]", autocomplete: 'off', value: Date.today }
                        -# .col-sm-12.col-md-6
                        -#   -# = f.input :name, label: 'Nombre del Responsable', placeholder: false, label_html: { class: 'label_custom--strong' }, input_html: { class: 'form-control input_custom' }
                        -#   .form-group
                        -#     %label.label_custom--strong Nombre del responsable
                        -#     %input.form-control.input_custom{ name: "status[user_name]", autocomplete: 'off', list: 'responsables' }
                        -#     %datalist#responsables
                        -#       - KepplerFarm::Responsable.all.each do |responsable|
                        -#         %option{ value: responsable.name }
                        -# .col-sm-12
                        -#   -# = f.input :name, label: 'Observaciones', placeholder: false, label_html: { class: 'label_custom--strong' }, input_html: { class: 'form-control input_custom' }
                        -#   .form-group
                        -#     %label.label_custom--strong Observaciones
                        -#     %input.form-control.input_custom{ name: "status[observations]" }
                      .float-right
                        %button.btn.btn_custom.btn--filled.btn--medium.nextBtn{:type => "button"} Siguente
                  #step-2.row.setup-content
                    .col-md-12
                      .row
                        .col-sm-12.col-md-6.mt-4
                          .form-group
                            %label.label_custom--strong Número de serie
                            %input.form-control.input_custom#username{ }
                        .col-sm-12.col-md-6.mt-4
                          .form-group
                            %label.label_custom--strong Nombre corto
                            %input.form-control.input_custom{ }
                        .col-sm-12.col-md-6
                          %label.label_custom--strong Género
                          %select#season_cow_strategic_lot.form-control.select.required.form-control.input_custom{"aria-hidden" => "true", name: "season_cow[strategic_lot]"  }
                            %option Hembra
                            %option Macho
                        .col-sm-12.col-md-6
                          %label.label_custom--strong Especie
                          %select#season_cow_strategic_lot.form-control.select.required.form-control.input_custom{"aria-hidden" => "true", name: "season_cow[strategic_lot]"  }
                            %option Vacuno
                        .col-sm-12.col-md-6.mt-4
                          %label.label_custom--strong Raza
                          %select#season_cow_strategic_lot.form-control.select.required.form-control.input_custom{"aria-hidden" => "true", name: "season_cow[strategic_lot]"  }
                            %option Vacuno 1
                            %option Vacuno 2
                            %option Vacuno 3
                            %option Vacuno 4
                            %option Vacuno 5
                        .col-sm-12.col-md-6.mt-4
                          %label.label_custom--strong Color de pelaje
                          %select#season_cow_strategic_lot.form-control.select.required.form-control.input_custom{"aria-hidden" => "true", name: "season_cow[strategic_lot]"  }
                            %option Pardo
                            %option Rojo
                        .col-sm-12.col-md-6.mt-4
                          %label.label_custom--strong Color de morro
                          %select#season_cow_strategic_lot.form-control.select.required.form-control.input_custom{"aria-hidden" => "true", name: "season_cow[strategic_lot]"  }
                            %option Pardo
                            %option Rojo
                        .col-sm-12.col-md-6.mt-4
                          %label.label_custom--strong Color de borla
                          %select#season_cow_strategic_lot.form-control.select.required.form-control.input_custom{"aria-hidden" => "true", name: "season_cow[strategic_lot]"  }
                            %option Pardo
                            %option Rojo
                        .col-sm-12.mt-4
                          %label.label_custom--strong Padre
                          %select#season_cow_strategic_lot.form-control.select.required.form-control.input_custom{"aria-hidden" => "true", name: "season_cow[strategic_lot]"  }
                            %option 
                      .col-sm-12.mt-4
                        .float-left
                          %button.btn.btn_custom.btn--medium.prevBtn{:type => "button"} Regresar
                        .float-right
                          %button.btn.btn_custom.btn--filled.btn--medium.nextBtn{:type => "button"} Siguente
                  #step-3.row.setup-content
                    .col-md-12
                      = simple_form_for [@farm, cow, KepplerCattle::Weight.new], url: statuses_farm_season_path(@farm, @season) do |f|
                        .row
                          = f.input :user_id, include_blank: false, input_html: { class: 'form-control input_custom', value: current_user.id }, as: :hidden, label_html: { class: 'label_custom--strong' }
                          = f.input :cow_id, include_blank: false, input_html: { class: 'form-control input_custom', value: cow.id }, as: :hidden, label_html: { class: 'label_custom--strong' }
                          .col-sm-12.col-md-6
                            = f.input :weight, autofocus: true, placeholder: '0.00 KG', label: 'Peso (KG)', input_html: { class: 'form-control input_custom', min: 0, value: (@last_weight&.weight.blank? ? 0 : @last_weight&.weight) }, label_html: { class: 'label_custom--strong' }
                          .col-sm-12.col-md-6
                            = f.input :gained_weight, input_html: { class: 'form-control input_custom status_gainded_weight' }, disabled: true, placeholder: '0.00 KG', label: 'Peso ganado (KG)', label_html: { class: 'label_custom--strong' }
                            = f.input :gained_weight, input_html: { class: 'form-control input_custom status_gainded_weight' }, as: :hidden, label_html: { class: 'label_custom--strong' }
                          .col-sm-12.col-md-6
                            = f.input :average_weight, input_html: { class: 'form-control input_custom status_average_weight' }, disabled: true, placeholder: '0.00 KG', label: 'Peso promedio (KG)', label_html: { class: 'label_custom--strong' }
                            = f.input :average_weight, input_html: { class: 'form-control input_custom status_average_weight' }, as: :hidden, label_html: { class: 'label_custom--strong' }
                          .col-sm-12.col-md-6
                            = f.input :corporal_condition, collection: @corporal_conditions, selected: (@last_weight&.corporal_condition if @last_status), include_blank: false, label: 'Condición corporal', label_html: { class: 'label_custom--strong' }, input_html: { class: 'form-control input_custom' }
                          .col-sm-12.mt-4
                            .float-left
                              %button.btn.btn_custom.btn--medium.prevBtn{:type => "button"} Regresar
                            .float-right
                              %button.btn.btn_custom.btn--filled.btn--medium.nextBtn{:type => "button"} Siguente
                  #step-4.row.setup-content
                    .col-md-12
                      %h3.title-modal Detalles del parto
                      .row
                        .col-md-6
                          .list-data
                            %dl
                              %dt Parto Exitoso
                              %dd Si
                              %dt Parto de Morochos
                              %dd No
                              %dt Fecha del parto
                              %dd 24/04/19
                              %dt Número de serie
                              %dd 45678
                              %dt Nombre corto
                              %dd Strella
                              %dt Género
                              %dd Hembra
                              %dt Especie
                              %dd Vacuno
                              
                        .col-md-6
                          .list-data
                            %dl
                              %dt Raza
                              %dd Vacuno 0
                              %dt Color de pelaje
                              %dd pardo
                              %dt Color de morro
                              %dd pardo
                              %dt Color de borla
                              %dd Pardo
                              %dt Padre
                              %dd Serie o pajuela
                              %dt Peso
                              %dd 20k
                              %dt Condición corporal
                              %dd Condición Corporal Vacuno 0
                            

                    .col-sm-12.mt-4
                      .float-right
                        %button.btn.btn_custom.btn--filled.btn--medium{ type: 'submit' }
                          %i.icofont-save
                          Guardar


                  -# %input{ name: 'status[type]', value: 'Birth', type: (Rails.env.eql?('development') ? :string : :hidden) }
                  -# %input.multiple_ids{ name: 'status[multiple_ids]', value: '', type: (Rails.env.eql?('development') ? :string : :hidden) }
                  -# .form-padding
                  -#   .row
                  -#     .col-sm-12.col-md-6
                  -#       -# = f.input :start_date, as: :string, label: 'Fecha del celo', label_html: { class: 'label_custom--strong' }, input_html: { class: 'form-control input_custom', autocomplete: 'off' }
                  -#       .form-group
                  -#         %label.label_custom--strong Fecha del parto
                  -#         %input.form-control.input_custom.datepicker{ name: "status[date]", autocomplete: 'off', value: Date.today }
                  -#     .col-sm-12.col-md-6
                  -#       -# = f.input :name, label: 'Nombre del Responsable', placeholder: false, label_html: { class: 'label_custom--strong' }, input_html: { class: 'form-control input_custom' }
                  -#       .form-group
                  -#         %label.label_custom--strong Nombre del responsable
                  -#         %input.form-control.input_custom{ name: "status[user_name]", autocomplete: 'off', list: 'responsables' }
                  -#         %datalist#responsables
                  -#           - KepplerFarm::Responsable.all.each do |responsable|
                  -#             %option{ value: responsable.name }
                  -#     .col-sm-12
                  -#       -# = f.input :name, label: 'Observaciones', placeholder: false, label_html: { class: 'label_custom--strong' }, input_html: { class: 'form-control input_custom' }
                  -#       .form-group
                  -#         %label.label_custom--strong Observaciones
                  -#         %input.form-control.input_custom{ name: "status[observations]" }
                  -#     .col-sm-12
                  -#       .float-right
                  -#         %button.btn.btn_custom.btn--filled.btn--medium{ type: 'submit' }
                  -#           %i.icofont-save
                  -#           Guardar

:css
  .list-data {
    margin-top: 20px;
  }
  dt {
    float: left;
    margin-right: 10%;
    max-width: 40%;
    font-weight: bold;
  }
  
  dd {
    color: grey;
    margin-left: 50%;
    margin-bottom: .5em;
  }
  
  dd::after {
    content: " ";
    display: block;
    clear: left;
  }  
  
  .title-modal{
    text-align: left !important;
    text-transform: unset !important;
    color: #6f6f6f !important;
    position: relative;
    margin-bottom: 5px;
  }
  .label_custom--strong {
    text-align: left !important;
  }
  [type=reset], [type=submit], button, html [type=button] {
    -webkit-appearance: unset !important;
  }
  .stepwizard-step p {
    margin-top: 10px;
  }
  .stepwizard-row {
    display: table-row;
  }
  .stepwizard {
    display: table;
    width: 100%;
    position: relative;
    margin-top: 20px;
  }
  .stepwizard-step button[disabled] {
    opacity: 1 !important;
    filter: alpha(opacity=100) !important;
  }
  .stepwizard-row:before {
    top: 14px;
    bottom: 0;
    position: absolute;
    content: " ";
    width: 70%;
    height: 2px;
    background-color: #ccc;
    z-order: 0;
    left: 15%;
  }
  .stepwizard-step {
    display: table-cell;
    text-align: center;
    position: relative;
  }
  .btn-circle {
    width: 30px !important;
    height: 30px !important;
    text-align: center !important;
    padding: 6px 0 !important;
    font-size: 12px !important;
    line-height: 1.428571429 !important;
    border-radius: 50%;
  }
  .btn-active {
    background-color: #28C76F !important;
    border-radius: 50%;
    color: white;
    font-weight: 400;
    padding: 7px 21px;
    transition: .4s;
  }
  a.btn {
    color: white !important;
    border-radius: 50%;
  }
  .btn-inactive {
    background-color: #c0c0c0;
    border-radius: 50%;
    color: white;
    font-weight: 400;
    padding: 7px 21px;
    transition: .4s;
  }

:javascript
  $(document).ready(function () {
    var navListItems = $('div.setup-panel div a'),
            allWells = $('.setup-content'),
            allNextBtn = $('.nextBtn'),
          allPrevBtn = $('.prevBtn');

    allWells.hide();

    navListItems.click(function (e) {
        e.preventDefault();
        var $target = $($(this).attr('href')),
                $item = $(this);

        if (!$item.hasClass('disabled')) {
            navListItems.removeClass('btn-active').addClass('btn-inactive');
            $item.addClass('btn-active');
            allWells.hide();
            $target.show();
            $target.find('input:eq(0)').focus();
        }
    });
    
    allPrevBtn.click(function(){
        var curStep = $(this).closest(".setup-content"),
            curStepBtn = curStep.attr("id"),
            prevStepWizard = $('div.setup-panel div a[href="#' + curStepBtn + '"]').parent().prev().children("a");

            prevStepWizard.removeAttr('disabled').trigger('click');
    });

    allNextBtn.click(function(){
        var curStep = $(this).closest(".setup-content"),
            curStepBtn = curStep.attr("id"),
            nextStepWizard = $('div.setup-panel div a[href="#' + curStepBtn + '"]').parent().next().children("a"),
            curInputs = curStep.find("input[type='text'],input[type='url']"),
            isValid = true;

        $(".form-group").removeClass("has-error");
        for(var i=0; i<curInputs.length; i++){
            if (!curInputs[i].validity.valid){
                isValid = false;
                $(curInputs[i]).closest(".form-group").addClass("has-error");
            }
        }

        if (isValid)
            nextStepWizard.removeAttr('disabled').trigger('click');
    });

    $('div.setup-panel div a.btn-active').trigger('click');
  });

